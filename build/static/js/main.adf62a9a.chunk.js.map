{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","nameFilter","handleFilterChange","onSubmit","event","preventDefault","value","onChange","PersonField","fieldName","fieldValue","fieldHandler","PersonForm","props","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","deletePerson","filter","person","name","toLocaleLowerCase","includes","map","key","id","number","onClick","Notification","notificationState","message","undefined","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","baseUrl","axios","get","then","response","data","newObject","post","toDelete","delete","toUpdate","put","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","setNotificationState","useEffect","console","log","personService","serverResponse","target","find","window","confirm","np","returnedPerson","p","setTimeout","catch","error","updatePerson","newPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.adf62a9a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({nameFilter, handleFilterChange}) => {\n    const filterSubmit = (event) => {\n        event.preventDefault()\n    }\n\n    return ( \n        <form onSubmit={filterSubmit}>\n        <div>\n          search: <input value={nameFilter} onChange={handleFilterChange}/>\n        </div>\n      </form>\n     );\n}\n \nexport default Filter;","import React from 'react';\n\nconst PersonField = ({fieldName, fieldValue, fieldHandler}) => {\n    return (\n        <div>\n            {fieldName}: <input value={fieldValue} onChange={fieldHandler}/>\n        </div>\n    )\n}\n\nconst PersonForm = (props) => {\n    return ( \n        <form onSubmit={props.addPerson}>\n            <PersonField fieldName=\"name\" fieldValue={props.newName} fieldHandler={props.handleNameChange} />\n            <PersonField fieldName=\"number\" fieldValue={props.newNumber} fieldHandler={props.handleNumberChange} />\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n     );\n}\n \nexport default PersonForm;","import React from 'react';\n\nconst Persons = ({persons, nameFilter, deletePerson}) => {\n\n\n    return ( \n        <ul>\n            {persons.filter(person => person.name.toLocaleLowerCase().includes(nameFilter.toLocaleLowerCase())).map((person) => \n                <li key={person.id}>{person.name} - {person.number}\n                <button onClick={() => deletePerson(person.id)}>Delete</button>\n                </li> )}\n        </ul>\n    );\n}\n \nexport default Persons;","import React from 'react';\n\nconst Notification = ({notificationState}) => {\n    const notificationStyle = {\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    if (notificationState === null) {\n        return null\n    }\n    if (notificationState.message === null || notificationState.message === undefined) {\n        return null\n    }\n    \n    return (\n        <div style={notificationStyle} className={notificationState.type}>\n            {notificationState.message}\n        </div>\n    )\n}\n \nexport default Notification;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = toDelete => {\n    const request = axios.delete(`${baseUrl}/${toDelete}`)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = toUpdate => {\n    const request = axios.put(`${baseUrl}/${toUpdate.id}`, toUpdate)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deletePerson, updatePerson}\n","import React, {\n    useState,\n    useEffect\n} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notifaction from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [nameFilter, setNameFilter] = useState('')\n    const [notificationState, setNotificationState] = useState({})\n\n    useEffect(() => {\n        console.log('Getting initial server data...')\n        personService\n            .getAll()\n            .then(serverResponse => {\n                setPersons(serverResponse)\n                console.log(persons)\n            })\n    }, [])\n\n    const updatePerson = (person) => {\n        const np = {\n            ...person,\n            number: newNumber\n        }\n\n        personService.updatePerson(np)\n            .then(returnedPerson => {\n                setPersons(persons.map(p => p.id !== np.id ? p : returnedPerson))\n                setNotificationState({\n                    message: `${returnedPerson.name} updated in contacts.`,\n                    type: \"success\"\n                })\n                setTimeout(() => {\n                    setNotificationState({})\n                }, 5000)\n            })\n            .catch(error => {\n                setNotificationState({\n                    message: `${np.name} was already deleted from the server.`,\n                    type: \"error\"\n                })\n                setTimeout(() => {\n                    setNotificationState(null)\n                }, 5000)\n                setPersons(persons.filter(p => p.id !== np.id))\n            })\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n\n        const person = persons.find(person => person.name === newName)\n        if (person) {\n            if (window.confirm(`${person.name} already exists, would you like to update?`)) {\n                updatePerson(person)\n            }\n        } else {\n            const newPerson = {\n                name: newName,\n                number: newNumber,\n            }\n\n            personService\n                .create(newPerson)\n                .then(serverResponse => {\n                    setPersons(persons.concat(serverResponse))\n                    setNewName('')\n                    setNewNumber('')\n                    setNameFilter('')\n                    setNotificationState({\n                        message: `${newPerson.name} added to contacts.`,\n                        type: \"success\"\n                    })\n                    setTimeout(() => {\n                        setNotificationState({})\n                    }, 5000)\n                })\n                .catch(error => {\n                    console.log(error.response.data)\n                    setNotificationState({\n                        message: error.response.data,\n                        type: \"error\"\n                    })\n                    setTimeout(() => {\n                        setNotificationState(null)\n                    }, 5000)\n                })\n        }\n    }\n\n    const deletePerson = (id) => {\n        const person = persons.find(p => p.id === id)\n        if (window.confirm(`Are you sure you want to delete ${person.name}`)) {\n            personService\n                .deletePerson(id)\n                .then(serverResponse => {\n                    setPersons(persons.filter(p => p.id !== id))\n                    setNotificationState({\n                        message: `${person.name} deleted from server.`,\n                        type: \"success\"\n                    })\n                    setTimeout(() => {\n                        setNotificationState({})\n                    }, 5000)\n                })\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setNameFilter(event.target.value)\n    }\n\n    return ( <\n        div >\n        <\n        Notifaction notificationState = {\n            notificationState\n        }\n        /> <\n        h2 > Filter < /h2> <\n        Filter nameFilter = {\n            nameFilter\n        }\n        handleFilterChange = {\n            handleFilterChange\n        }\n        /> <\n        h2 > Phonebook < /h2> <\n        PersonForm addPerson = {\n            addPerson\n        }\n        newName = {\n            newName\n        }\n        newNumber = {\n            newNumber\n        }\n        handleNameChange = {\n            handleNameChange\n        }\n        handleNumberChange = {\n            handleNumberChange\n        }\n        /> <\n        h2 > Numbers < /h2> <\n        Persons persons = {\n            persons\n        }\n        nameFilter = {\n            nameFilter\n        }\n        deletePerson = {\n            deletePerson\n        }\n        /> <\n        /div>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}